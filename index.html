<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thumbnail Master Pro - Nanum Edition</title>
    
    <!-- í°íŠ¸ ë¡œë“œ: ë‚˜ëˆ”ìŠ¤í€˜ì–´ ë„¤ì˜¤ (Naver) -->
    <link rel="stylesheet" type="text/css" href="https://hangeul.pstatic.net/hangeul_static/webfont/NanumSquareNeo/NanumSquareNeo.css">
    
    <!-- í°íŠ¸ ë¡œë“œ: Pretendard & Google Fonts -->
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Black+Han+Sans&family=Do+Hyeon&family=Jua&family=Bagel+Fat+One&display=swap" rel="stylesheet">
    
    <style>
        /* ì»¤ìŠ¤í…€ ì›¹í°íŠ¸ ì •ì˜ */
        @font-face { font-family: 'TmonMonsori'; src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_two@1.0/TmonMonsori.woff') format('woff'); }
        @font-face { font-family: 'GmarketSansBold'; src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_2001@1.1/GmarketSansBold.woff') format('woff'); }
        @font-face { font-family: 'Esamanru'; src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_20-04@2.1/EsamanruBold.woff') format('woff'); }

        :root {
            --bg-main: #f8fafc;
            --sidebar-bg: #ffffff;
            --accent: #00d179; /* ë‚˜ëˆ” ë„¤ì˜¤ì™€ ì˜ ì–´ìš¸ë¦¬ëŠ” ë„¤ì´ë²„ ê·¸ë¦° í¬ì¸íŠ¸ */
            --text-dark: #0f172a;
            --text-light: #64748b;
            --border: #e2e8f0;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'NanumSquareNeo', 'Pretendard', sans-serif; letter-spacing: -0.02em; }
        body { background-color: var(--bg-main); color: var(--text-dark); display: flex; height: 100vh; overflow: hidden; }

        /* ì‚¬ì´ë“œë°” */
        .sidebar {
            width: 420px; background: var(--sidebar-bg); border-right: 1px solid var(--border);
            display: flex; flex-direction: column; height: 100%; overflow-y: auto;
            box-shadow: 10px 0 30px rgba(0,0,0,0.02);
        }
        .sidebar-header { padding: 30px; border-bottom: 1px solid var(--border); }
        .sidebar-header h1 { font-size: 20px; font-weight: 900; color: var(--accent); }
        
        .config-section { padding: 30px; border-bottom: 1px solid var(--border); }
        .config-title { font-size: 14px; font-weight: 800; color: var(--text-dark); margin-bottom: 15px; display: flex; align-items: center; gap: 6px; text-transform: uppercase; }

        label { display: block; font-size: 11px; font-weight: 700; color: var(--text-light); margin-bottom: 8px; }
        
        textarea {
            width: 100%; padding: 18px; border: 2px solid var(--border); border-radius: 14px;
            font-size: 16px; font-weight: 700; resize: none; min-height: 110px; transition: 0.2s;
            background: #f1f5f9;
        }
        textarea:focus { outline: none; border-color: var(--accent); background: #fff; box-shadow: 0 0 0 4px rgba(0, 209, 121, 0.1); }

        /* ì…€ë ‰íŠ¸ ë°•ìŠ¤ í°íŠ¸ ì ìš© */
        .select {
            width: 100%; height: 52px; padding: 0 15px; border: 2px solid var(--border); border-radius: 12px;
            font-size: 15px; font-weight: 800; cursor: pointer; background: #fff;
        }
        option[value="NanumSquareNeo"] { font-family: 'NanumSquareNeo', sans-serif; }
        option[value="TmonMonsori"] { font-family: 'TmonMonsori', sans-serif; }
        option[value="GmarketSansBold"] { font-family: 'GmarketSansBold', sans-serif; }
        option[value="Esamanru"] { font-family: 'Esamanru', sans-serif; }
        option[value="Bagel Fat One"] { font-family: 'Bagel Fat One', sans-serif; }

        /* í”„ë¦¬ì…‹ ì¹´ë“œ */
        .preset-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
        .preset-card {
            border: 2px solid var(--border); border-radius: 16px; padding: 12px; cursor: pointer; transition: 0.2s; background: #fff;
        }
        .preset-card:hover { border-color: var(--accent); transform: translateY(-3px); box-shadow: 0 10px 20px rgba(0,0,0,0.05); }
        .preset-card.active { border-color: var(--accent); background: #f0fff4; }
        .preset-box { 
            width: 100%; height: 60px; border-radius: 10px; margin-bottom: 10px; 
            display: flex; align-items: center; justify-content: center; 
            font-size: 14px; font-weight: 900; overflow: hidden;
        }
        .preset-label { font-size: 12px; font-weight: 800; text-align: center; }

        /* ìŠ¬ë¼ì´ë” */
        .range-wrap { margin-bottom: 20px; }
        input[type="range"] { width: 100%; accent-color: var(--accent); cursor: pointer; }
        .val-badge { float: right; color: var(--accent); font-weight: 900; }

        /* ë¯¸ë¦¬ë³´ê¸° ì˜ì—­ */
        .main-content {
            flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center;
            padding: 40px; overflow-y: auto;
        }
        .canvas-container {
            background: #fff; padding: 25px; border-radius: 40px;
            box-shadow: 0 50px 100px -20px rgba(0,0,0,0.15);
        }
        canvas { max-width: 100%; height: auto; border-radius: 20px; display: block; }

        .btn-download {
            width: 100%; max-width: 600px; margin-top: 40px; padding: 22px; 
            background: var(--accent); color: white; border: none;
            border-radius: 20px; font-size: 18px; font-weight: 900; cursor: pointer; transition: 0.3s;
            box-shadow: 0 15px 30px rgba(0, 209, 121, 0.25);
        }
        .btn-download:hover { background: #00b368; transform: translateY(-4px); box-shadow: 0 20px 40px rgba(0, 209, 121, 0.35); }

        .color-grid { display: flex; gap: 15px; }
        .color-item { flex: 1; text-align: center; }
        .color-item input[type="color"] {
            width: 100%; height: 45px; border-radius: 12px; border: 2px solid var(--border); cursor: pointer; background: #fff; padding: 3px;
        }
    </style>
</head>
<body>

<aside class="sidebar">
    <div class="sidebar-header">
        <h1>THUMBNAIL MASTER PRO</h1>
    </div>

    <div class="config-section">
        <div class="config-title">ğŸ“ ë©”ì¸ ë¬¸êµ¬ í¸ì§‘</div>
        <textarea id="text-input">ìµœì•  í°íŠ¸&#10;ë‚˜ëˆ”ìŠ¤í€˜ì–´ ë„¤ì˜¤&#10;ê¹”ë”í•¨ì˜ ëíŒì™•</textarea>
    </div>

    <div class="config-section">
        <div class="config-title">ğŸ”  ì„œì²´ ë° ë ˆì´ì•„ì›ƒ</div>
        <div style="margin-bottom: 20px;">
            <label>í°íŠ¸ ì¢…ë¥˜</label>
            <select id="font-family" class="select">
                <option value="NanumSquareNeo" selected>âœ¨ ë‚˜ëˆ”ìŠ¤í€˜ì–´ ë„¤ì˜¤ (ì¶”ì²œ)</option>
                <option value="TmonMonsori">í‹°ëª¬ ëª¬ì†Œë¦¬ (ì œëª©ìš©)</option>
                <option value="GmarketSansBold">Gë§ˆì¼“ ì‚°ìŠ¤ (ëª¨ë˜)</option>
                <option value="Esamanru">ì´ì‚¬ë§Œë£¨ (ê°•ì¡°)</option>
                <option value="Bagel Fat One">ë² ì´ê¸€ íŒ» (íŠ¸ë Œë””)</option>
                <option value="Pretendard">í”„ë¦¬í…ë‹¤ë“œ (ê¹”ë”)</option>
                <option value="Black Han Sans">ë¸”ë™ í•œ ì‚°ìŠ¤ (ê½‰ì°¬)</option>
                <option value="Do Hyeon">ë„í˜„ì²´</option>
                <option value="Jua">ì£¼ì•„ì²´</option>
            </select>
        </div>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 20px;">
            <div>
                <label>ì •ë ¬ ë°©ì‹</label>
                <select id="text-align" class="select">
                    <option value="center">ì¤‘ì•™ ì •ë ¬</option>
                    <option value="left">ì™¼ìª½ ì •ë ¬</option>
                    <option value="right">ì˜¤ë¥¸ìª½ ì •ë ¬</option>
                </select>
            </div>
            <div class="range-wrap">
                <label>ê¸€ì í¬ê¸° <span class="val-badge" id="fs-val">115px</span></label>
                <input type="range" id="font-size" min="40" max="220" value="115">
            </div>
        </div>

        <div class="config-title">ğŸ¨ ì»¬ëŸ¬ í…Œë§ˆ ì»¤ìŠ¤í…€</div>
        <div class="color-grid">
            <div class="color-item">
                <label>ë°°ê²½</label>
                <input type="color" id="bg-color" value="#ffffff">
            </div>
            <div class="color-item">
                <label>ê¸€ì</label>
                <input type="color" id="text-color" value="#000000">
            </div>
            <div class="color-item">
                <label>í¬ì¸íŠ¸</label>
                <input type="color" id="accent-color" value="#00d179">
            </div>
        </div>
    </div>

    <div class="config-section">
        <div class="config-title">ğŸš€ í€µ í…Œë§ˆ í”„ë¦¬ì…‹</div>
        <div class="preset-grid" id="preset-grid"></div>
    </div>
</aside>

<main class="main-content">
    <div class="canvas-container">
        <canvas id="preview-canvas" width="800" height="800"></canvas>
    </div>
    <button class="btn-download" onclick="downloadImage()">ì´ë¯¸ì§€ ì €ì¥ (High Quality WebP)</button>
</main>

<script>
    const canvas = document.getElementById('preview-canvas');
    const ctx = canvas.getContext('2d');

    // í”„ë¦¬ì…‹ ë°ì´í„° (ë‚˜ëˆ”ìŠ¤í€˜ì–´ ë„¤ì˜¤ í¬í•¨)
    const presets = [
        { name: 'ë‚˜ëˆ” ì‹œê·¸ë‹ˆì²˜', bg: '#ffffff', text: '#000000', accent: '#00d179', font: 'NanumSquareNeo' },
        { name: 'ë‹¤í¬ ë„¤ì˜¨', bg: '#000000', text: '#00ff95', accent: '#00ff95', font: 'GmarketSansBold' },
        { name: 'ê°•ë ¬ ë ˆë“œ', bg: '#f43f5e', text: '#ffffff', accent: '#ffffff', font: 'Esamanru' },
        { name: 'ì‚¬ì´ë²„ íŒ', bg: '#000000', text: '#f0abfc', accent: '#f0abfc', font: 'Bagel Fat One' }
    ];

    const elements = {
        text: document.getElementById('text-input'),
        font: document.getElementById('font-family'),
        align: document.getElementById('text-align'),
        bg: document.getElementById('bg-color'),
        textColor: document.getElementById('text-color'),
        accent: document.getElementById('accent-color'),
        fontSize: document.getElementById('font-size'),
        fsVal: document.getElementById('fs-val'),
        presetGrid: document.getElementById('preset-grid')
    };

    // í”„ë¦¬ì…‹ ì¹´ë“œ ë™ì  ìƒì„±
    presets.forEach((p) => {
        const card = document.createElement('div');
        card.className = 'preset-card';
        card.innerHTML = `
            <div class="preset-box" style="background:${p.bg}; color:${p.text}; border-left: 6px solid ${p.accent}; font-family:'${p.font}'">ê°€ë‚˜ë‹¤</div>
            <div class="preset-label">${p.name}</div>
        `;
        card.onclick = () => {
            elements.bg.value = p.bg;
            elements.textColor.value = p.text;
            elements.accent.value = p.accent;
            elements.font.value = p.font;
            draw();
        };
        elements.presetGrid.appendChild(card);
    });

    function draw() {
        const text = elements.text.value;
        const lines = text.split('\n');
        const fs = parseInt(elements.fontSize.value);
        elements.fsVal.textContent = fs + 'px';

        // 1. ë°°ê²½ ê·¸ë¦¬ê¸°
        ctx.fillStyle = elements.bg.value;
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        // 2. í¬ì¸íŠ¸ ì¥ì‹ (ì™¼ìª½ ë°”)
        ctx.fillStyle = elements.accent.value;
        ctx.fillRect(0, 0, 30, canvas.height);

        // 3. í…ìŠ¤íŠ¸ ì„¤ì •
        ctx.fillStyle = elements.textColor.value;
        // ë‚˜ëˆ”ìŠ¤í€˜ì–´ ë„¤ì˜¤ì˜ ê²½ìš° Heavy(900) ë‘ê»˜ë¥¼ ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©
        ctx.font = `900 ${fs}px "${elements.font.value}", sans-serif`;
        ctx.textBaseline = 'middle';

        let x = canvas.width / 2 + 15;
        if(elements.align.value === 'left') {
            ctx.textAlign = 'left';
            x = 85;
        } else if(elements.align.value === 'right') {
            ctx.textAlign = 'right';
            x = canvas.width - 55;
        } else {
            ctx.textAlign = 'center';
        }

        const lh = fs * 1.3; // ê°€ë…ì„± ì¢‹ì€ ì¤„ ê°„ê²©
        const totalH = lines.length * lh;
        let startY = (canvas.height - totalH) / 2 + (lh / 2);

        // 4. í…ìŠ¤íŠ¸ ë Œë”ë§ (ê·¸ë¦¼ì ì¶”ê°€ë¡œ ì„ ëª…ë„ Up)
        ctx.shadowColor = "rgba(0,0,0,0.1)";
        ctx.shadowBlur = 12;
        
        lines.forEach((line, i) => {
            ctx.fillText(line, x, startY + (i * lh));
        });
    }

    function downloadImage() {
        const link = document.createElement('a');
        link.download = `blog-thumb-${Date.now()}.webp`;
        link.href = canvas.toDataURL('image/webp', 0.95);
        link.click();
    }

    // ëª¨ë“  ì…ë ¥ì°½ì— ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì—°ê²°
    [elements.text, elements.font, elements.align, elements.bg, elements.textColor, elements.accent, elements.fontSize].forEach(el => {
        el.addEventListener('input', draw);
    });

    // í°íŠ¸ ì™„ì „ ë¡œë“œ í›„ ì²« í™”ë©´ ê·¸ë¦¬ê¸°
    document.fonts.ready.then(draw);
</script>

</body>
</html>
