<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¸”ë¡œê·¸ ì¸ë„¤ì¼ ë©”ì´ì»¤ PRO</title>
    <link href="https://fonts.googleapis.com/css2?family=Black+Han+Sans&family=Do+Hyeon&family=Jua&family=Nanum+Myeongjo:wght@700&family=Noto+Sans+KR:wght@900&display=swap" rel="stylesheet">
    <style>
        /* í°íŠ¸ ì„¤ì • */
        @font-face {
            font-family: 'NanumSquareNeo';
            src: url(https://hangeul.pstatic.net/hangeul_static/webfont/NanumSquareNeo/NanumSquareNeoTTF-cBd.woff2);
            font-weight: 700;
        }
        @font-face {
            font-family: 'GmarketSansBold';
            src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_2001@1.1/GmarketSansBold.woff') format('woff');
        }

        :root {
            --primary: #00e676;
            --bg-gray: #f8f9fa;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'NanumSquareNeo', sans-serif; background: #eef2f5; padding: 20px; color: #333; }

        .container { max-width: 1280px; margin: 0 auto; display: grid; grid-template-columns: 450px 1fr; gap: 30px; }

        /* íŒ¨ë„ ê³µí†µ */
        .panel { background: white; padding: 25px; border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); }
        h2 { font-size: 18px; margin-bottom: 20px; display: flex; align-items: center; gap: 8px; }
        h2 span { font-size: 22px; }

        .control-group { margin-bottom: 25px; }
        label { display: block; margin-bottom: 8px; font-weight: 700; color: #444; font-size: 14px; }

        /* ì…ë ¥ ìš”ì†Œ */
        textarea { width: 100%; padding: 15px; border: 2px solid #eee; border-radius: 10px; font-family: inherit; font-size: 16px; min-height: 100px; transition: 0.3s; }
        textarea:focus { outline: none; border-color: var(--primary); }

        .select { width: 100%; height: 45px; padding: 0 10px; border: 2px solid #eee; border-radius: 10px; font-weight: 700; cursor: pointer; }

        /* ë””ìì¸ í”„ë¦¬ì…‹ ê·¸ë¦¬ë“œ */
        .preset-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; margin-top: 10px; }
        .preset-item { 
            border: 2px solid #eee; border-radius: 12px; padding: 10px; cursor: pointer; 
            transition: 0.2s; text-align: center; position: relative; overflow: hidden;
            display: flex; flex-direction: column; align-items: center; gap: 5px;
        }
        .preset-item:hover { transform: translateY(-3px); border-color: var(--primary); box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .preset-preview { 
            width: 100%; height: 60px; border-radius: 6px; display: flex; 
            align-items: center; justify-content: center; font-size: 14px; font-weight: 900;
        }
        .preset-name { font-size: 12px; font-weight: 700; color: #666; }

        /* ì»¬ëŸ¬ ì»¤ìŠ¤í…€ */
        .color-row { display: flex; gap: 10px; margin-top: 10px; }
        .color-box { flex: 1; display: flex; flex-direction: column; align-items: center; gap: 5px; }
        .color-box input[type="color"] { width: 100%; height: 35px; border: 1px solid #ddd; border-radius: 5px; cursor: pointer; }
        .color-box span { font-size: 11px; font-weight: 700; color: #888; }

        /* ìŠ¬ë¼ì´ë” ì»¤ìŠ¤í…€ */
        .range-wrapper { display: flex; align-items: center; gap: 10px; }
        input[type="range"] { flex: 1; height: 6px; border-radius: 3px; accent-color: var(--primary); cursor: pointer; }
        .range-val { min-width: 45px; font-size: 13px; font-weight: 800; color: var(--primary); text-align: right; }

        /* ë¯¸ë¦¬ë³´ê¸° íŒ¨ë„ */
        .preview-panel { position: sticky; top: 20px; text-align: center; }
        #preview-canvas { width: 100%; max-width: 600px; border-radius: 15px; box-shadow: 0 20px 40px rgba(0,0,0,0.2); margin-bottom: 20px; background: #fff; }

        .btn-group { display: flex; gap: 10px; }
        button { flex: 1; padding: 16px; border: none; border-radius: 12px; font-size: 16px; font-weight: 900; cursor: pointer; transition: 0.3s; }
        .btn-download { background: var(--primary); color: #004d40; }
        .btn-download:hover { background: #00c853; transform: scale(1.02); }
        .btn-reset { background: #f1f3f5; color: #666; }

        .alt-box { margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: 10px; text-align: left; border-left: 5px solid var(--primary); }
        .alt-label { font-size: 11px; color: #999; font-weight: 700; margin-bottom: 5px; }
        .alt-text { font-size: 13px; color: #444; line-height: 1.4; }

        @media (max-width: 1000px) {
            .container { grid-template-columns: 1fr; }
            .preview-panel { position: static; }
        }
    </style>
</head>
<body>

<div class="container">
    <!-- ì„¤ì • íŒ¨ë„ -->
    <div class="panel">
        <h2><span>ğŸ“</span> í…ìŠ¤íŠ¸ ë° ìŠ¤íƒ€ì¼</h2>
        
        <div class="control-group">
            <label>ë‚´ìš© ì…ë ¥ (ì—”í„°ë¡œ ì¤„ë°”ê¿ˆ)</label>
            <textarea id="text-input">ìµœê³ ì˜ ê°€ë…ì„±&#10;ì¸ë„¤ì¼ ë§Œë“¤ê¸°&#10;ì§€ê¸ˆ ë°”ë¡œ ì‹œì‘</textarea>
        </div>

        <div class="control-group">
            <label>ë””ìì¸ í”„ë¦¬ì…‹ (ì¶”ì²œ ì¡°í•©)</label>
            <div class="preset-grid" id="preset-grid">
                <!-- í”„ë¦¬ì…‹ ì•„ì´í…œì´ JSë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
            </div>
        </div>

        <h2><span>ğŸ¨</span> ì„¸ë¶€ ì»¤ìŠ¤í…€</h2>
        
        <div class="control-group">
            <label>í°íŠ¸ ë° ì •ë ¬</label>
            <div style="display:grid; grid-template-columns: 1fr 1fr; gap:10px; margin-bottom:10px;">
                <select id="font-family" class="select">
                    <option value="'GmarketSansBold', sans-serif">Gë§ˆì¼“ ì‚°ìŠ¤</option>
                    <option value="'Black Han Sans', sans-serif">ë¸”ë™ í•œ ì‚°ìŠ¤</option>
                    <option value="'NanumSquareNeo', sans-serif">ë‚˜ëˆ”ìŠ¤í€˜ì–´</option>
                    <option value="'Do Hyeon', sans-serif">ë„í˜„ì²´</option>
                    <option value="'Jua', sans-serif">ì£¼ì•„ì²´</option>
                    <option value="'Noto Sans KR', sans-serif">ë³¸ê³ ë”•</option>
                </select>
                <select id="text-align" class="select">
                    <option value="center">ê°€ìš´ë° ì •ë ¬</option>
                    <option value="left">ì™¼ìª½ ì •ë ¬</option>
                    <option value="right">ì˜¤ë¥¸ìª½ ì •ë ¬</option>
                </select>
            </div>
        </div>

        <div class="control-group">
            <label>ìƒ‰ìƒ ì§ì ‘ ì„ íƒ</label>
            <div class="color-row">
                <div class="color-box">
                    <input type="color" id="bg-color" value="#000000">
                    <span>ë°°ê²½</span>
                </div>
                <div class="color-box">
                    <input type="color" id="text-color" value="#ede02a">
                    <span>ê¸€ì</span>
                </div>
                <div class="color-box">
                    <input type="color" id="border-color" value="#ede02a">
                    <span>í…Œë‘ë¦¬</span>
                </div>
            </div>
        </div>

        <div class="control-group">
            <label>ìƒì„¸ ì¡°ì ˆ</label>
            <div class="range-item">
                <div style="display:flex; justify-content:space-between;"><small>í°íŠ¸ í¬ê¸°</small><span class="range-val" id="fs-val">100px</span></div>
                <input type="range" id="font-size" min="40" max="180" value="100">
            </div>
            <div class="range-item" style="margin-top:15px;">
                <div style="display:flex; justify-content:space-between;"><small>í…Œë‘ë¦¬ ë‘ê»˜</small><span class="range-val" id="bw-val">15px</span></div>
                <input type="range" id="border-width" min="0" max="40" value="15">
            </div>
        </div>

        <div class="btn-group">
            <button class="btn-reset" onclick="resetSettings()">ì´ˆê¸°í™”</button>
        </div>
    </div>

    <!-- ë¯¸ë¦¬ë³´ê¸° íŒ¨ë„ -->
    <div class="panel preview-panel">
        <h2><span>ğŸ–¼ï¸</span> ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸°</h2>
        <canvas id="preview-canvas" width="800" height="800"></canvas>
        
        <div class="btn-group">
            <button class="btn-download" onclick="downloadWebP()">WebP ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ</button>
        </div>

        <div class="alt-box">
            <div class="alt-label">ìë™ ìƒì„±ëœ ALT íƒœê·¸ (SEO ì¶”ì²œ)</div>
            <div class="alt-text" id="alt-text"></div>
        </div>
    </div>
</div>

<script>
    const canvas = document.getElementById('preview-canvas');
    const ctx = canvas.getContext('2d');

    // ë””ìì¸ í”„ë¦¬ì…‹ ë°ì´í„°
    const presets = [
        { name: 'ë„¤ì˜¨ ì˜ë¡œìš°', bg: '#000000', text: '#ede02a', border: '#ede02a', font: "'GmarketSansBold', sans-serif" },
        { name: 'ê°•ë ¬í•œ ë ˆë“œ', bg: '#d32f2f', text: '#ffffff', border: '#000000', font: "'Black Han Sans', sans-serif" },
        { name: 'ì‹œí¬ í™”ì´íŠ¸', bg: '#ffffff', text: '#000000', border: '#000000', font: "'NanumSquareNeo', sans-serif" },
        { name: 'ì‚¬ì´ë²„ í‘í¬', bg: '#212121', text: '#00e5ff', border: '#00e5ff', font: "'GmarketSansBold', sans-serif" },
        { name: 'ë”¥ ê·¸ë¦°', bg: '#1b5e20', text: '#ccff90', border: '#ccff90', font: "'Do Hyeon', sans-serif" },
        { name: 'ë² ë¦¬ í•‘í¬', bg: '#f06292', text: '#ffffff', border: '#ffffff', font: "'Jua', sans-serif" }
    ];

    // ìš”ì†Œ ì°¸ì¡°
    const inputs = ['text-input', 'font-family', 'text-align', 'bg-color', 'text-color', 'border-color', 'font-size', 'border-width'];
    const elements = {};
    inputs.forEach(id => elements[id] = document.getElementById(id));

    // í”„ë¦¬ì…‹ ê·¸ë¦¬ë“œ ìƒì„±
    const presetGrid = document.getElementById('preset-grid');
    presets.forEach(p => {
        const item = document.createElement('div');
        item.className = 'preset-item';
        item.innerHTML = `
            <div class="preset-preview" style="background:${p.bg}; color:${p.text}; border:2px solid ${p.border}; font-family:${p.font}">ê°€ë‚˜ë‹¤</div>
            <div class="preset-name">${p.name}</div>
        `;
        item.onclick = () => applyPreset(p);
        presetGrid.appendChild(item);
    });

    function applyPreset(p) {
        elements['bg-color'].value = p.bg;
        elements['text-color'].value = p.text;
        elements['border-color'].value = p.border;
        elements['font-family'].value = p.font;
        updatePreview();
    }

    // ì´ˆê¸°í™” ë° ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸
    function init() {
        inputs.forEach(id => {
            elements[id].addEventListener('input', updatePreview);
        });
        document.fonts.ready.then(updatePreview);
    }

    function updatePreview() {
        const text = elements['text-input'].value;
        const lines = text.split('\n');
        const fs = parseInt(elements['font-size'].value);
        const bw = parseInt(elements['border-width'].value);
        
        // ìˆ˜ì¹˜ í‘œì‹œ
        document.getElementById('fs-val').textContent = fs + 'px';
        document.getElementById('bw-val').textContent = bw + 'px';

        // ë°°ê²½
        ctx.fillStyle = elements['bg-color'].value;
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        // í…Œë‘ë¦¬
        if (bw > 0) {
            ctx.strokeStyle = elements['border-color'].value;
            ctx.lineWidth = bw * 2; // ì•ˆìª½ìœ¼ë¡œ ê·¸ë ¤ì§€ëŠ” ëŠë‚Œì„ ìœ„í•´ 2ë°°
            ctx.strokeRect(0, 0, canvas.width, canvas.height);
        }

        // í…ìŠ¤íŠ¸ ì„¤ì •
        ctx.fillStyle = elements['text-color'].value;
        ctx.font = `900 ${fs}px ${elements['font-family'].value}`;
        ctx.textBaseline = 'middle';
        
        let x = canvas.width / 2;
        if (elements['text-align'].value === 'left') {
            ctx.textAlign = 'left';
            x = 60 + bw;
        } else if (elements['text-align'].value === 'right') {
            ctx.textAlign = 'right';
            x = canvas.width - 60 - bw;
        } else {
            ctx.textAlign = 'center';
        }

        const lh = fs * 1.3;
        const totalH = lines.length * lh;
        let startY = (canvas.height - totalH) / 2 + (lh / 2);

        lines.forEach((line, i) => {
            ctx.fillText(line, x, startY + (i * lh));
        });

        // ALT íƒœê·¸
        const clean = text.replace(/\n/g, ' ').trim();
        document.getElementById('alt-text').textContent = `${clean} - ë¸”ë¡œê·¸ ì¸ë„¤ì¼ ì´ë¯¸ì§€ ë””ìì¸`;
    }

    function downloadWebP() {
        const link = document.createElement('a');
        const name = elements['text-input'].value.split('\n')[0].substring(0, 10);
        link.download = `thumbnail-${name}.webp`;
        link.href = canvas.toDataURL('image/webp', 0.9);
        link.click();
    }

    function resetSettings() {
        elements['text-input'].value = "ìµœê³ ì˜ ê°€ë…ì„±\nì¸ë„¤ì¼ ë§Œë“¤ê¸°\nì§€ê¸ˆ ë°”ë¡œ ì‹œì‘";
        applyPreset(presets[0]);
    }

    init();
</script>

</body>
</html>
