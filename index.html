<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Î∏îÎ°úÍ∑∏ Ïç∏ÎÑ§Ïùº Î©îÏù¥Ïª§ v2</title>
    <style>
        @font-face {
            font-family: 'NanumSquareNeo';
            src: url(https://hangeul.pstatic.net/hangeul_static/webfont/NanumSquareNeo/NanumSquareNeoTTF-aLt.woff2);
            font-weight: 300;
            font-display: swap;
        }
        @font-face {
            font-family: 'NanumSquareNeo';
            src: url(https://hangeul.pstatic.net/hangeul_static/webfont/NanumSquareNeo/NanumSquareNeoTTF-bRg.woff2);
            font-weight: 400;
            font-display: swap;
        }
        @font-face {
            font-family: 'NanumSquareNeo';
            src: url(https://hangeul.pstatic.net/hangeul_static/webfont/NanumSquareNeo/NanumSquareNeoTTF-cBd.woff2);
            font-weight: 700;
            font-display: swap;
        }
        @font-face {
            font-family: 'NanumSquareNeo';
            src: url(https://hangeul.pstatic.net/hangeul_static/webfont/NanumSquareNeo/NanumSquareNeoTTF-dEb.woff2);
            font-weight: 800;
            font-display: swap;
        }
        @font-face {
            font-family: 'NanumSquareNeo';
            src: url(https://hangeul.pstatic.net/hangeul_static/webfont/NanumSquareNeo/NanumSquareNeoTTF-eHv.woff2);
            font-weight: 900;
            font-display: swap;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'NanumSquareNeo', sans-serif;
            background: #f5f5f5;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            align-items: start;
        }

        .panel {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        h1 {
            font-size: 24px;
            margin-bottom: 30px;
            font-weight: 900;
            color: #333;
        }

        .control-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 700;
            color: #555;
            font-size: 14px;
        }

        textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-family: 'NanumSquareNeo', sans-serif;
            font-size: 16px;
            resize: vertical;
            min-height: 100px;
            transition: border-color 0.3s;
        }

        textarea:focus {
            outline: none;
            border-color: #00e676;
        }

        input[type="color"] {
            width: 46px;
            height: 40px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            cursor: pointer;
            padding: 0;
            background: transparent;
        }

        .color-input {
            width: 105px;
            height: 40px;
            padding: 8px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            text-align: center;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            font-weight: 700;
            text-transform: uppercase;
            transition: border-color 0.3s;
        }

        .color-input:focus {
            outline: none;
            border-color: #ede02a;
        }

        .palette-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-top: 10px;
        }

        .palette-btn {
            width: 100%;
            height: 50px;
            border: 3px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .palette-btn:hover {
            transform: scale(1.05);
            border-color: #333;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .palette-btn:active {
            transform: scale(0.95);
        }

        input[type="range"] {
            width: 100%;
            height: 6px;
            background: #e0e0e0;
            border-radius: 3px;
            outline: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 18px;
            height: 18px;
            background: #00e676;
            cursor: pointer;
            border-radius: 50%;
        }

        .range-group {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .range-group input {
            flex: 1;
        }

        .range-value {
            min-width: 50px;
            text-align: right;
            font-weight: 700;
            color: #666;
        }

        .color-group {
            display: flex;
            gap: 15px;
            align-items: center;
            flex-wrap: wrap;
        }

        .color-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6px;
        }

        .color-row {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .color-label {
            font-size: 12px;
            color: #666;
        }

        .select {
            width: 100%;
            height: 44px;
            padding: 10px 12px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-family: 'NanumSquareNeo', sans-serif;
            font-size: 14px;
            font-weight: 700;
            color: #333;
            background: white;
            cursor: pointer;
        }

        .select:focus {
            outline: none;
            border-color: #00e676;
        }

        .align-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .preview-panel {
            position: sticky;
            top: 20px;
        }

        #preview-canvas {
            width: 100%;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            margin-bottom: 20px;
        }

        .button-group {
            display: flex;
            gap: 10px;
        }

        button {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 8px;
            font-family: 'NanumSquareNeo', sans-serif;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-download {
            background: #00e676;
            color: #000;
        }

        .btn-download:hover {
            background: #00c853;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,230,118,0.3);
        }

        .btn-reset {
            background: #ff5252;
            color: white;
        }

        .btn-reset:hover {
            background: #ff1744;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255,82,82,0.3);
        }

        .alt-tag {
            margin-top: 15px;
            padding: 15px;
            background: #f5f5f5;
            border-radius: 8px;
            border-left: 4px solid #00e676;
        }

        .alt-tag-label {
            font-size: 12px;
            color: #666;
            margin-bottom: 8px;
            font-weight: 700;
        }

        .alt-tag-text {
            font-size: 14px;
            color: #333;
            word-break: break-all;
            line-height: 1.5;
        }

        @media (max-width: 968px) {
            .container {
                grid-template-columns: 1fr;
            }

            .preview-panel {
                position: static;
            }

            .align-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="panel">
            <h1>üìù Ïç∏ÎÑ§Ïùº ÏÑ§Ï†ï</h1>

            <div class="control-group">
                <label>Ïç∏ÎÑ§Ïùº Î¨∏Íµ¨ (ÏóîÌÑ∞Î°ú Ï§ÑÎ∞îÍøà)</label>
                <textarea id="text-input" placeholder="Ïç∏ÎÑ§Ïùº Î¨∏Íµ¨Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî&#10;ÏóîÌÑ∞ÌÇ§Î°ú Ï§ÑÎ∞îÍøà Í∞ÄÎä•">PSN Ïπ¥Îìú&#10;Ïò§Î•ò ÎÅù!&#10;ÏßÄÍ∏à ÎÅùÎÉÑ</textarea>
            </div>

            <div class="control-group">
                <label>ÏÉâÏÉÅ ÏÑ§Ï†ï (ÌîºÏª§ + HEX)</label>
                <div class="color-group">
                    <div class="color-item">
                        <div class="color-row">
                            <input type="color" id="bg-color-picker" value="#000000">
                            <input type="text" id="bg-color" value="#000000" class="color-input" maxlength="7">
                        </div>
                        <span class="color-label">Î∞∞Í≤ΩÏÉâ</span>
                    </div>
                    <div class="color-item">
                        <div class="color-row">
                            <input type="color" id="text-color-picker" value="#ede02a">
                            <input type="text" id="text-color" value="#ede02a" class="color-input" maxlength="7">
                        </div>
                        <span class="color-label">Í∏ÄÏî®ÏÉâ</span>
                    </div>
                    <div class="color-item">
                        <div class="color-row">
                            <input type="color" id="border-color-picker" value="#ede02a">
                            <input type="text" id="border-color" value="#ede02a" class="color-input" maxlength="7">
                        </div>
                        <span class="color-label">ÌÖåÎëêÎ¶¨ÏÉâ</span>
                    </div>
                </div>
            </div>

            <div class="control-group">
                <label>ÌòïÍ¥ë Ïª¨Îü¨ ÌåîÎ†àÌä∏ (ÏÑ†ÌÉùÌïú Ìï≠Î™©Ïóê Ï†ÅÏö©)</label>
                <div class="palette-grid">
                    <button class="palette-btn" data-color="#ede02a" style="background: #ede02a;" title="ÌòïÍ¥ë ÎÖ∏Îûë"></button>
                    <button class="palette-btn" data-color="#00e676" style="background: #00e676;" title="ÌòïÍ¥ë Ï¥àÎ°ù"></button>
                    <button class="palette-btn" data-color="#ff1744" style="background: #ff1744;" title="ÌòïÍ¥ë Îπ®Í∞ï"></button>
                    <button class="palette-btn" data-color="#ff9100" style="background: #ff9100;" title="ÌòïÍ¥ë Ï£ºÌô©"></button>
                    <button class="palette-btn" data-color="#00e5ff" style="background: #00e5ff;" title="ÌòïÍ¥ë ÌïòÎäò"></button>
                    <button class="palette-btn" data-color="#e040fb" style="background: #e040fb;" title="ÌòïÍ¥ë Î≥¥Îùº"></button>
                    <button class="palette-btn" data-color="#76ff03" style="background: #76ff03;" title="ÌòïÍ¥ë ÎùºÏûÑ"></button>
                    <button class="palette-btn" data-color="#ff4081" style="background: #ff4081;" title="ÌòïÍ¥ë ÌïëÌÅ¨"></button>
                </div>
            </div>

            <div class="control-group">
                <label>Î¨∏Ïûê Ï†ïÎ†¨</label>
                <div class="align-grid">
                    <div>
                        <label style="margin-bottom:6px;">Í∞ÄÎ°ú Ï†ïÎ†¨</label>
                        <select id="text-align" class="select">
                            <option value="center" selected>Í∞ÄÏö¥Îç∞</option>
                            <option value="left">ÏôºÏ™Ω</option>
                            <option value="right">Ïò§Î•∏Ï™Ω</option>
                        </select>
                    </div>
                    <div>
                        <label style="margin-bottom:6px;">ÏÑ∏Î°ú Ï†ïÎ†¨</label>
                        <select id="vertical-align" class="select">
                            <option value="middle" selected>Í∞ÄÏö¥Îç∞</option>
                            <option value="top">ÏúÑ</option>
                            <option value="bottom">ÏïÑÎûò</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="control-group">
                <label>ÌÖçÏä§Ìä∏ Ïó¨Î∞± (Ï†ïÎ†¨Ïö©)</label>
                <div class="range-group">
                    <input type="range" id="text-padding" min="0" max="200" value="60">
                    <span class="range-value" id="text-padding-value">60px</span>
                </div>
            </div>

            <div class="control-group">
                <label>Ìè∞Ìä∏ ÌÅ¨Í∏∞</label>
                <div class="range-group">
                    <input type="range" id="font-size" min="30" max="150" value="100">
                    <span class="range-value" id="font-size-value">100px</span>
                </div>
            </div>

            <div class="control-group">
                <label>Ìè∞Ìä∏ ÍµµÍ∏∞</label>
                <div class="range-group">
                    <input type="range" id="font-weight" min="300" max="900" step="100" value="900">
                    <span class="range-value" id="font-weight-value">900</span>
                </div>
            </div>

            <div class="control-group">
                <label>Ï§Ñ Í∞ÑÍ≤©</label>
                <div class="range-group">
                    <input type="range" id="line-height" min="0.8" max="2" step="0.1" value="1.5">
                    <span class="range-value" id="line-height-value">1.5</span>
                </div>
            </div>

            <div class="control-group">
                <label>ÌÖåÎëêÎ¶¨ ÎëêÍªò</label>
                <div class="range-group">
                    <input type="range" id="border-width" min="0" max="30" value="15">
                    <span class="range-value" id="border-width-value">15px</span>
                </div>
            </div>

            <div class="button-group">
                <button class="btn-reset" onclick="resetSettings()">Ï¥àÍ∏∞Ìôî</button>
            </div>
        </div>

        <div class="panel preview-panel">
            <h1>üñºÔ∏è ÎØ∏Î¶¨Î≥¥Í∏∞</h1>
            <canvas id="preview-canvas" width="800" height="800"></canvas>

            <div class="button-group">
                <button class="btn-download" onclick="downloadThumbnail()">Îã§Ïö¥Î°úÎìú (WebP)</button>
            </div>

            <div class="alt-tag">
                <div class="alt-tag-label">ÏÉùÏÑ±Îêú ALT ÌÉúÍ∑∏:</div>
                <div class="alt-tag-text" id="alt-tag-text">Ïç∏ÎÑ§Ïùº Ïù¥ÎØ∏ÏßÄ</div>
            </div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('preview-canvas');
        const ctx = canvas.getContext('2d');

        // Ïª®Ìä∏Î°§ ÏöîÏÜåÎì§
        const textInput = document.getElementById('text-input');

        // HEX inputs
        const bgColor = document.getElementById('bg-color');
        const textColor = document.getElementById('text-color');
        const borderColor = document.getElementById('border-color');

        // Color pickers
        const bgColorPicker = document.getElementById('bg-color-picker');
        const textColorPicker = document.getElementById('text-color-picker');
        const borderColorPicker = document.getElementById('border-color-picker');

        // Align controls
        const textAlign = document.getElementById('text-align');
        const verticalAlign = document.getElementById('vertical-align');
        const textPadding = document.getElementById('text-padding');

        // Sliders
        const fontSize = document.getElementById('font-size');
        const fontWeight = document.getElementById('font-weight');
        const lineHeight = document.getElementById('line-height');
        const borderWidth = document.getElementById('border-width');

        // Í∞í ÌëúÏãú ÏöîÏÜåÎì§
        const fontSizeValue = document.getElementById('font-size-value');
        const fontWeightValue = document.getElementById('font-weight-value');
        const lineHeightValue = document.getElementById('line-height-value');
        const borderWidthValue = document.getElementById('border-width-value');
        const textPaddingValue = document.getElementById('text-padding-value');
        const altTagText = document.getElementById('alt-tag-text');

        // ÌåîÎ†àÌä∏ Ï†ÅÏö© ÎåÄÏÉÅ(ÎßàÏßÄÎßâÏúºÎ°ú Ìè¨Ïª§Ïä§Ìïú Ïª¨Îü¨ Ìï≠Î™©)
        let activeColorInput = null;

        // Ìè∞Ìä∏ Î°úÎìú ÎåÄÍ∏∞
        document.fonts.ready.then(() => {
            // Ï¥àÍ∏∞ Ïú†Ìö®Í∞í ÏÑ§Ï†ï
            initColorState(bgColor, bgColorPicker);
            initColorState(textColor, textColorPicker);
            initColorState(borderColor, borderColorPicker);

            updatePreview();
        });

        // ---------- Ïù¥Î≤§Ìä∏ ----------
        textInput.addEventListener('input', updatePreview);

        // HEX ÏûÖÎ†• (ÏßÅÏ†ë ÌÉÄÏù¥Ìïë)
        bgColor.addEventListener('input', () => validateAndSyncColor(bgColor, bgColorPicker));
        textColor.addEventListener('input', () => validateAndSyncColor(textColor, textColorPicker));
        borderColor.addEventListener('input', () => validateAndSyncColor(borderColor, borderColorPicker));

        // Ïª¨Îü¨ ÌîºÏª§ Î≥ÄÍ≤Ω
        bgColorPicker.addEventListener('input', () => setColorFromPicker(bgColorPicker, bgColor));
        textColorPicker.addEventListener('input', () => setColorFromPicker(textColorPicker, textColor));
        borderColorPicker.addEventListener('input', () => setColorFromPicker(borderColorPicker, borderColor));

        // ÌåîÎ†àÌä∏ Î≤ÑÌäº
        document.querySelectorAll('.palette-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                const color = e.currentTarget.dataset.color;

                // Ìè¨Ïª§Ïä§Ìïú Ìï≠Î™©Ïù¥ ÏûàÏúºÎ©¥ Í±∞Í∏∞ÏóêÎßå Ï†ÅÏö©
                if (activeColorInput) {
                    applyColorToInput(activeColorInput, color);
                    return;
                }

                // Í∏∞Î≥∏Í∞í: Í∏ÄÏî®/ÌÖåÎëêÎ¶¨ Í∞ôÏù¥ Î≥ÄÍ≤Ω
                applyColorToInput(textColor, color);
                applyColorToInput(borderColor, color);
            });
        });

        // Ïª¨Îü¨ Ïù∏Ìíã/ÌîºÏª§ Ìè¨Ïª§Ïä§ Ï∂îÏ†Å
        const colorFocusables = [
            bgColor, bgColorPicker,
            textColor, textColorPicker,
            borderColor, borderColorPicker
        ];

        colorFocusables.forEach(el => {
            el.addEventListener('focus', () => {
                // activeColorInputÏùÄ HEX inputÏúºÎ°úÎßå ÌÜµÏùºÌï¥ÏÑú Í¥ÄÎ¶¨
                if (el === bgColorPicker) activeColorInput = bgColor;
                else if (el === textColorPicker) activeColorInput = textColor;
                else if (el === borderColorPicker) activeColorInput = borderColor;
                else activeColorInput = el;
            });
        });

        // Ï†ïÎ†¨/Ïó¨Î∞±
        textAlign.addEventListener('change', updatePreview);
        verticalAlign.addEventListener('change', updatePreview);
        textPadding.addEventListener('input', (e) => {
            textPaddingValue.textContent = e.target.value + 'px';
            updatePreview();
        });

        // Ïä¨ÎùºÏù¥ÎçîÎì§
        fontSize.addEventListener('input', (e) => {
            fontSizeValue.textContent = e.target.value + 'px';
            updatePreview();
        });

        fontWeight.addEventListener('input', (e) => {
            fontWeightValue.textContent = e.target.value;
            updatePreview();
        });

        lineHeight.addEventListener('input', (e) => {
            lineHeightValue.textContent = e.target.value;
            updatePreview();
        });

        borderWidth.addEventListener('input', (e) => {
            borderWidthValue.textContent = e.target.value + 'px';
            updatePreview();
        });

        // ---------- Ïª¨Îü¨ Ïú†Ìã∏ ----------
        function initColorState(hexInput, picker) {
            hexInput.dataset.lastValid = normalizeHex(hexInput.value) || '#000000';
            hexInput.value = hexInput.dataset.lastValid;
            if (picker) picker.value = hexInput.value;
        }

        function normalizeHex(val) {
            if (!val) return null;
            let v = String(val).trim();
            if (!v.startsWith('#')) v = '#' + v;
            const hexRegex = /^#[0-9A-Fa-f]{6}$/;
            return hexRegex.test(v) ? v.toLowerCase() : null;
        }

        function validateAndSyncColor(hexInput, picker) {
            const normalized = normalizeHex(hexInput.value);

            if (normalized) {
                hexInput.value = normalized;
                hexInput.dataset.lastValid = normalized;
                if (picker) picker.value = normalized;
                updatePreview();
                return;
            }

            // Í∏∏Ïù¥Í∞Ä 7Ïù∏Îç∞ Ïú†Ìö®ÌïòÏßÄ ÏïäÏúºÎ©¥ ÎßàÏßÄÎßâ Ïú†Ìö®Í∞íÏúºÎ°ú Î≥µÍµ¨
            const v = String(hexInput.value).trim();
            if (v.length >= 6) {
                const fallback = hexInput.dataset.lastValid || '#000000';
                hexInput.value = fallback;
                if (picker) picker.value = fallback;
            }
        }

        function setColorFromPicker(picker, hexInput) {
            hexInput.value = picker.value.toLowerCase();
            hexInput.dataset.lastValid = hexInput.value;
            updatePreview();
        }

        function applyColorToInput(hexInput, color) {
            const normalized = normalizeHex(color);
            if (!normalized) return;

            if (hexInput === bgColor) bgColorPicker.value = normalized;
            if (hexInput === textColor) textColorPicker.value = normalized;
            if (hexInput === borderColor) borderColorPicker.value = normalized;

            hexInput.value = normalized;
            hexInput.dataset.lastValid = normalized;
            updatePreview();
        }

        // ---------- Î†åÎçî ----------
        function updatePreview() {
            const text = textInput.value;
            const lines = text.split('\n');

            // Ï∫îÎ≤ÑÏä§ ÌÅ¥Î¶¨Ïñ¥
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Î∞∞Í≤Ω
            ctx.fillStyle = bgColor.value;
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // ÌÖåÎëêÎ¶¨
            const bw = parseInt(borderWidth.value);
            if (bw > 0) {
                ctx.strokeStyle = borderColor.value;
                ctx.lineWidth = bw;
                ctx.strokeRect(bw / 2, bw / 2, canvas.width - bw, canvas.height - bw);
            }

            // ÌÖçÏä§Ìä∏ ÏÑ§Ï†ï
            const fs = parseInt(fontSize.value);
            const fw = fontWeight.value;
            const lh = parseFloat(lineHeight.value);
            const pad = parseInt(textPadding.value);

            ctx.font = `${fw} ${fs}px 'NanumSquareNeo', sans-serif`;
            ctx.fillStyle = textColor.value;
            ctx.textBaseline = 'middle';

            // Í∞ÄÎ°ú Ï†ïÎ†¨
            let x = canvas.width / 2;
            const hAlign = textAlign.value;

            if (hAlign === 'left') {
                ctx.textAlign = 'left';
                x = pad + bw;
            } else if (hAlign === 'right') {
                ctx.textAlign = 'right';
                x = canvas.width - pad - bw;
            } else {
                ctx.textAlign = 'center';
                x = canvas.width / 2;
            }

            // ÏÑ∏Î°ú Ï†ïÎ†¨
            const totalHeight = lines.length * fs * lh;
            const lineStep = fs * lh;

            let startY;
            const vAlign = verticalAlign.value;

            if (vAlign === 'top') {
                startY = pad + bw + (lineStep / 2);
            } else if (vAlign === 'bottom') {
                startY = (canvas.height - pad - bw - totalHeight) + (lineStep / 2);
            } else {
                // middle
                startY = (canvas.height - totalHeight) / 2 + (lineStep / 2);
            }

            // ÌÖçÏä§Ìä∏ Í∑∏Î¶¨Í∏∞
            lines.forEach((line, index) => {
                const y = startY + (index * lineStep);
                ctx.fillText(line, x, y);
            });

            // ALT ÌÉúÍ∑∏ ÏÉùÏÑ±
            updateAltTag(text);
        }

        function updateAltTag(text) {
            // Ï§ÑÎ∞îÍøàÏùÑ Í≥µÎ∞±ÏúºÎ°ú Î≥ÄÍ≤ΩÌïòÍ≥† Ï§ëÎ≥µ Í≥µÎ∞± Ï†úÍ±∞
            const cleanText = text.replace(/\n/g, ' ').replace(/\s+/g, ' ').trim();

            if (cleanText) {
                const altTag = `${cleanText} - Î∏îÎ°úÍ∑∏ Ïç∏ÎÑ§Ïùº Ïù¥ÎØ∏ÏßÄ | ÏãúÏÑ†ÏùÑ ÏÇ¨Î°úÏû°Îäî ÎπÑÏ£ºÏñº ÏΩòÌÖêÏ∏†`;
                altTagText.textContent = altTag;
            } else {
                altTagText.textContent = 'ÎßûÏ∂§Ìòï Î∏îÎ°úÍ∑∏ Ïç∏ÎÑ§Ïùº Ïù¥ÎØ∏ÏßÄ | Í≥†ÌíàÏßà ÎπÑÏ£ºÏñº ÏΩòÌÖêÏ∏†';
            }
        }

        function generateFileName(text) {
            let fileName = text.replace(/\n/g, '-');
            fileName = fileName.replace(/[^\w\s„Ñ±-„Öé„Öè-„Ö£Í∞Ä-Ìû£-]/g, '');
            fileName = fileName.replace(/[\s-]+/g, '-');
            fileName = fileName.replace(/^-+|-+$/g, '');

            if (fileName.length > 50) {
                fileName = fileName.substring(0, 50);
            }

            if (!fileName) {
                fileName = 'thumbnail';
            }

            return fileName + '.webp';
        }

        function downloadThumbnail() {
            canvas.toBlob((blob) => {
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                const fileName = generateFileName(textInput.value);

                a.href = url;
                a.download = fileName;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            }, 'image/webp', 0.95);
        }

        function resetSettings() {
            textInput.value = 'PSN Ïπ¥Îìú\nÏò§Î•ò ÎÅù!\nÏßÄÍ∏à ÎÅùÎÉÑ';

            applyColorToInput(bgColor, '#000000');
            applyColorToInput(textColor, '#ede02a');
            applyColorToInput(borderColor, '#ede02a');

            textAlign.value = 'center';
            verticalAlign.value = 'middle';
            textPadding.value = '60';

            fontSize.value = '100';
            fontWeight.value = '900';
            lineHeight.value = '1.5';
            borderWidth.value = '15';

            fontSizeValue.textContent = '100px';
            fontWeightValue.textContent = '900';
            lineHeightValue.textContent = '1.5';
            borderWidthValue.textContent = '15px';
            textPaddingValue.textContent = '60px';

            activeColorInput = null;
            updatePreview();
        }

        // Ï¥àÍ∏∞ Î†åÎçîÎßÅ (Ìè∞Ìä∏ Î°úÎî© Ï†ÑÏù¥ÎùºÎèÑ Îπ†Î•¥Í≤å ÌïúÎ≤à)
        updatePreview();
    </script>
</body>
</html>
