<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¸”ë¡œê·¸ ì¸ë„¤ì¼ ë©”ì´ì»¤ v2.0</title>
    <!-- ê³ í€„ë¦¬í‹° ì›¹í°íŠ¸ ë¡œë“œ -->
    <link href="https://fonts.googleapis.com/css2?family=Black+Han+Sans&family=Do+Hyeon&family=Jua&family=Nanum+Myeongjo:wght@700&family=Noto+Sans+KR:wght@900&family=Bagel+Fat+One&display=swap" rel="stylesheet">
    <style>
        /* ì¶”ê°€ ì›¹í°íŠ¸ (ëˆˆëˆ„ ë° CDN) */
        @font-face {
            font-family: 'Pretendard-Black';
            src: url('https://fastly.jsdelivr.net/gh/Project-Noonnu/noonfonts_2107@1.1/Pretendard-Black.woff') format('woff');
            font-weight: 900;
        }
        @font-face {
            font-family: 'TmonMonsori';
            src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_two@1.0/TmonMonsori.woff') format('woff');
        }
        @font-face {
            font-family: 'Esamanru';
            src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_20-04@2.1/EsamanruBold.woff') format('woff');
            font-weight: 700;
        }
        @font-face {
            font-family: 'Suite-Heavy';
            src: url('https://fastly.jsdelivr.net/gh/sunnypark91/sunnypark91@1.2/SUITE-Heavy.woff2') format('woff2');
        }
        @font-face {
            font-family: 'LeferiPoint-BlackOblique';
            src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_2201-2@1.0/LeferiPoint-BlackObliqueA.woff') format('woff');
        }
        @font-face {
            font-family: 'GmarketSansBold';
            src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_2001@1.1/GmarketSansBold.woff') format('woff');
        }

        :root {
            --primary: #4f46e5;
            --success: #10b981;
            --bg-canvas: #ffffff;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; letter-spacing: -0.02em; }
        body { font-family: 'Pretendard-Black', sans-serif; background: #f1f5f9; padding: 40px 20px; color: #1e293b; }

        .container { max-width: 1200px; margin: 0 auto; display: grid; grid-template-columns: 420px 1fr; gap: 40px; }

        /* ì„¤ì • íŒ¨ë„ */
        .panel { background: white; padding: 30px; border-radius: 24px; box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1); }
        h2 { font-size: 20px; margin-bottom: 24px; display: flex; align-items: center; gap: 10px; }
        
        .section-title { font-size: 13px; font-weight: 800; color: #64748b; text-transform: uppercase; margin-bottom: 12px; display: block; }

        .control-group { margin-bottom: 30px; }
        textarea { width: 100%; padding: 16px; border: 2px solid #e2e8f0; border-radius: 12px; font-family: inherit; font-size: 16px; min-height: 110px; transition: 0.2s; resize: none; }
        textarea:focus { outline: none; border-color: var(--primary); background: #f8fafc; }

        /* í”„ë¦¬ì…‹ ë””ìì¸ */
        .preset-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; }
        .preset-item { 
            border: 2px solid #f1f5f9; border-radius: 16px; padding: 8px; cursor: pointer; 
            transition: 0.2s; background: #fff;
        }
        .preset-item:hover { border-color: var(--primary); transform: translateY(-2px); }
        .preset-preview { 
            width: 100%; height: 50px; border-radius: 10px; display: flex; 
            align-items: center; justify-content: center; font-size: 12px; font-weight: 900; margin-bottom: 6px;
        }
        .preset-name { font-size: 11px; font-weight: 700; color: #475569; text-align: center; }

        /* ì…€ë ‰íŠ¸ ë° ì»¬ëŸ¬ */
        .select { width: 100%; height: 48px; padding: 0 12px; border: 2px solid #e2e8f0; border-radius: 12px; font-weight: 700; cursor: pointer; appearance: none; background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%2364748b'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E") no-repeat right 12px center/16px; }
        
        .color-row { display: flex; gap: 12px; }
        .color-box { flex: 1; text-align: center; }
        .color-box input[type="color"] { width: 100%; height: 40px; border: none; border-radius: 8px; cursor: pointer; background: none; }
        .color-box span { font-size: 11px; font-weight: 700; color: #94a3b8; margin-top: 5px; display: block; }

        /* ë¯¸ë¦¬ë³´ê¸° íŒ¨ë„ */
        .preview-panel { position: sticky; top: 40px; display: flex; flex-direction: column; align-items: center; }
        #preview-canvas { width: 100%; max-width: 650px; border-radius: 20px; box-shadow: 0 25px 50px -12px rgba(0,0,0,0.25); background: #fff; margin-bottom: 24px; }

        .btn-download { width: 100%; padding: 20px; background: var(--primary); color: white; border: none; border-radius: 16px; font-size: 18px; font-weight: 900; cursor: pointer; transition: 0.3s; box-shadow: 0 10px 15px -3px rgba(79, 70, 229, 0.4); }
        .btn-download:hover { background: #4338ca; transform: translateY(-2px); }

        .alt-box { width: 100%; margin-top: 24px; padding: 20px; background: white; border-radius: 16px; border-left: 6px solid var(--primary); }
        .alt-text { font-size: 14px; color: #475569; font-weight: 500; }

        @media (max-width: 1000px) { .container { grid-template-columns: 1fr; } .preview-panel { position: static; } }
    </style>
</head>
<body>

<div class="container">
    <div class="panel">
        <h2><span>ğŸ¨</span> ë””ìì¸ ì„¼í„°</h2>
        
        <div class="control-group">
            <span class="section-title">ë¬¸êµ¬ ìˆ˜ì •</span>
            <textarea id="text-input">ì˜¤ëŠ˜ì˜ ì¶”ì²œ&#10;ëŒ€ë°• ë§›ì§‘ ë¦¬ìŠ¤íŠ¸&#10;TOP 5 ê³µê°œ</textarea>
        </div>

        <div class="control-group">
            <span class="section-title">ì¸ê¸° ìŠ¤íƒ€ì¼ í”„ë¦¬ì…‹</span>
            <div class="preset-grid" id="preset-grid"></div>
        </div>

        <div class="control-group">
            <span class="section-title">ìƒì„¸ í°íŠ¸ ì„¤ì •</span>
            <div style="display:grid; grid-template-columns: 1.5fr 1fr; gap:10px;">
                <select id="font-family" class="select">
                    <option value="TmonMonsori">í‹°ëª¬ ëª¬ì†Œë¦¬ (ê°•ì¶”)</option>
                    <option value="Pretendard-Black">í”„ë¦¬í…ë‹¤ë“œ (ì„¸ë ¨)</option>
                    <option value="Esamanru">ì´ì‚¬ë§Œë£¨ (ì—­ë™)</option>
                    <option value="Bagel Fat One">ë² ì´ê¸€íŒ» (íŒì•„íŠ¸)</option>
                    <option value="GmarketSansBold">Gë§ˆì¼“ ì‚°ìŠ¤</option>
                    <option value="Suite-Heavy">SUITE (ê¹”ë”)</option>
                    <option value="LeferiPoint-BlackOblique">ë ˆí˜ë¦¬ (ìœ ë‹ˆí¬)</option>
                    <option value="Black Han Sans">ë¸”ë™í•œì‚°ìŠ¤</option>
                </select>
                <select id="text-align" class="select">
                    <option value="center">ì¤‘ì•™ ì •ë ¬</option>
                    <option value="left">ì™¼ìª½ ì •ë ¬</option>
                    <option value="right">ì˜¤ë¥¸ìª½ ì •ë ¬</option>
                </select>
            </div>
        </div>

        <div class="control-group">
            <span class="section-title">ì»¬ëŸ¬ í…Œë§ˆ</span>
            <div class="color-row">
                <div class="color-box"><input type="color" id="bg-color" value="#ffffff"><span>ë°°ê²½ìƒ‰</span></div>
                <div class="color-box"><input type="color" id="text-color" value="#000000"><span>ê¸€ììƒ‰</span></div>
                <div class="color-box"><input type="color" id="border-color" value="#4f46e5"><span>í¬ì¸íŠ¸</span></div>
            </div>
        </div>

        <div class="control-group">
            <div style="display:flex; justify-content:space-between; margin-bottom:8px;">
                <span class="section-title" style="margin:0;">í°íŠ¸ í¬ê¸°</span>
                <b id="fs-val" style="color:var(--primary)">110px</b>
            </div>
            <input type="range" id="font-size" min="40" max="200" value="110" style="width:100%; accent-color:var(--primary);">
        </div>
    </div>

    <div class="preview-panel">
        <canvas id="preview-canvas" width="800" height="800"></canvas>
        <button class="btn-download" onclick="downloadImage()">ì´ë¯¸ì§€ ì €ì¥í•˜ê¸° (.WebP)</button>
        <div class="alt-box">
            <span class="section-title" style="color:var(--primary)">SEO ì¶”ì²œ íƒœê·¸</span>
            <div class="alt-text" id="alt-text"></div>
        </div>
    </div>
</div>

<script>
    const canvas = document.getElementById('preview-canvas');
    const ctx = canvas.getContext('2d');

    // í”„ë¦¬ì…‹ ë°ì´í„° ì—…ë°ì´íŠ¸ (ì¶”ê°€ëœ í°íŠ¸ ìœ„ì£¼)
    const presets = [
        { name: 'ìœ íŠœë¸Œ í´ë˜ì‹', bg: '#ffffff', text: '#000000', border: '#ff0000', font: 'TmonMonsori' },
        { name: 'íŠ¸ë Œë”” ë¸”ë™', bg: '#000000', text: '#ffffff', border: '#4f46e5', font: 'Pretendard-Black' },
        { name: 'ë„¤ì˜¨ íŒ', bg: '#000000', text: '#ccff00', border: '#ccff00', font: 'Bagel Fat One' },
        { name: 'ê¹”ë”í•œ ì •ë³´', bg: '#f8fafc', text: '#1e293b', border: '#38bdf8', font: 'Suite-Heavy' },
        { name: 'ì—ë„ˆì§€ ì˜¤ë Œì§€', bg: '#ff6b00', text: '#ffffff', border: '#ffffff', font: 'Esamanru' },
        { name: 'ê°ì„± ë¼ì´í”„', bg: '#fff5f5', text: '#ff4d4d', border: '#ff4d4d', font: 'LeferiPoint-BlackOblique' }
    ];

    const inputIds = ['text-input', 'font-family', 'text-align', 'bg-color', 'text-color', 'border-color', 'font-size'];
    const inputs = {};
    inputIds.forEach(id => inputs[id] = document.getElementById(id));

    // í”„ë¦¬ì…‹ UI ìƒì„±
    const presetGrid = document.getElementById('preset-grid');
    presets.forEach(p => {
        const item = document.createElement('div');
        item.className = 'preset-item';
        item.innerHTML = `
            <div class="preset-preview" style="background:${p.bg}; color:${p.text}; border-left: 5px solid ${p.border}; font-family:${p.font}">ê°€ë‚˜ë‹¤</div>
            <div class="preset-name">${p.name}</div>
        `;
        item.onclick = () => {
            inputs['bg-color'].value = p.bg;
            inputs['text-color'].value = p.text;
            inputs['border-color'].value = p.border;
            inputs['font-family'].value = p.font;
            update();
        };
        presetGrid.appendChild(item);
    });

    function update() {
        const text = inputs['text-input'].value;
        const lines = text.split('\n');
        const fs = parseInt(inputs['font-si
